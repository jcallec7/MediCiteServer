<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>MediCite | Recuperar Contraseña</title>
<!-- Tell the browser to be responsive to screen width -->
<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Font Awesome -->
<link rel="stylesheet"
	href="../resources/plugins/fontawesome-free/css/all.min.css" />
<!-- Ionicons -->
<link rel="stylesheet"
	href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" />
<!-- icheck bootstrap -->
<link rel="stylesheet"
	href="../resources/plugins/icheck-bootstrap/icheck-bootstrap.min.css" />
<!-- Theme style -->
<link rel="stylesheet" href="../resources/dist/css/adminlte.min.css" />
<!-- Google Font: Source Sans Pro -->
<link
	href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700"
	rel="stylesheet" />
</head>
<body class="hold-transition login-page">
	<div class="login-box">
		<div class="login-logo">
			<a href=""><b>MediCite</b></a>
		</div>
		<!-- /.login-logo -->
		<div class="card">
			<div class="card-body login-card-body">

				<h:outputLabel class="login-box-msg"
					rendered="#{gestionUsuarioBean.recuperado == null}"
					value="¿Olvidaste tu contraseña? Responde a la
					siguiente pregunta de seguridad" />

				<h:outputLabel class="login-box-msg"
					rendered="#{gestionUsuarioBean.recuperado != null}"
					value="¡Falta poco! Ingresa tu nueva contraseña" />

				<h:form>
				
				<p align="center"><b><h:message for="mybutton" /></b></p>
				
					<h:outputLabel rendered="#{gestionUsuarioBean.recuperado == null}"
						value="Ingrese su correo electrónico" />

					<div class="input-group mb-3">

						<h:inputText rendered="#{gestionUsuarioBean.recuperado == null}"
							type="email" value="#{gestionUsuarioBean.correo}"
							class="form-control" a:placeholder="Email" />

					</div>

					<h:outputLabel rendered="#{gestionUsuarioBean.recuperado == null}"
						value="¿Cuál es el nombre de su libro favorito?" />

					<div class="input-group mb-3">
						<h:inputText rendered="#{gestionUsuarioBean.recuperado == null}"
							type="password" value="#{gestionUsuarioBean.preguntaSeguridad}"
							a:type="password" class="form-control" a:placeholder="Respuesta" />
					</div>

					<h:outputLabel rendered="#{gestionUsuarioBean.recuperado != null}"
						value="Ingrese su nueva contraseña" />

					<div class="input-group mb-3">
						<h:inputText rendered="#{gestionUsuarioBean.recuperado != null}"
							type="password" value="#{gestionUsuarioBean.contrasena}"
							a:type="password" class="form-control"
							a:placeholder="Nueva contraseña" />
					</div>

					<div class="row">
						<div class="col-4">
							<h:commandButton
								rendered="#{gestionUsuarioBean.recuperado == null}"
								value="Comprobar"
								action="#{gestionUsuarioBean.comprobarRespuesta()}"
								class="btn btn-primary btn-block" id="mybutton"
								binding="#{gestionUsuarioBean.mybutton}"></h:commandButton>

						</div>
					</div>



					<div class="row">
						<div class="col-4">
							<h:commandButton
								rendered="#{gestionUsuarioBean.recuperado != null}"
								value="Recuperar"
								action="#{gestionUsuarioBean.recuperarContraseña()}"
								class="btn btn-primary btn-block"></h:commandButton>

						</div>
					</div>
				</h:form>
			</div>
			<div class="card-footer">
				<p class="mb-1">
					<a href="login.xhtml" class="text-center">Ya estoy registrado</a>
				</p>
				<p class="mb-0">
					<a href="userType.xhtml" class="text-center">Registrarse</a>
				</p>
			</div>
		</div>
	</div>

	<!-- Bootstrap 4 -->
	<script src="../resources/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
	<!-- AdminLTE App -->
	<script src="../resources/dist/js/adminlte.min.js"></script>

</body>
</html>