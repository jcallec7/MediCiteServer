<ui:composition xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
     xmlns:p="http://primefaces.org/ui"
     	template="blankMedico.xhtml">

	<ui:define name="cabecera">
        	Sección Consulta
   	</ui:define>

	<ui:define name="titulo">
		<div class="card-header">
        	<h3 class="card-title">Editar Consulta</h3>
        </div>
   	</ui:define>
	
	<ui:define name="contenido">
	
		<h:form role="form">
          	
	       	<div class="card-body">
	       	
	       		<div class="row">
          			<div class="col-md-6">
	       		
			       		<div class="card card-info"> 
				            <div class="card-header">
			                	<h1 style="font-size: 22px" class="card-title">Medico</h1>
			              	</div>
				
			            	<div class="card-body">
                				<div class="form-group">
			                       	<label>
				            			#{gestionConsultaBean.selectedConsulta.medico.nombre} #{gestionConsultaBean.selectedConsulta.medico.apellido}, #{gestionConsultaBean.selectedConsulta.medico.especialidad}
			            			</label>
		            			</div>
		                   	</div>
		                   	
	                   	</div>
	                   	
                   	</div>
				   
         			<div class="col-md-6">
	       		
			       		<div class="card card-info">
				            
				            <div class="card-header">
			                	<h1 style="font-size: 22px" class="card-title">Paciente</h1>
			              	</div>
				            	
				            <div class="card-body">
                				<div class="form-group">
			                       	<label>
		                       			#{gestionConsultaBean.selectedConsulta.usuario.nombre} #{gestionConsultaBean.selectedConsulta.usuario.apellido}, #{gestionConsultaBean.selectedConsulta.usuario.id}                 	
			            			</label>
		            			</div>
		                   	</div>	
			      			
						</div>
						
					</div>
					
				</div>
				
				<div class="card card-warning">
              <div class="card-header">
                <h1 class="card-title" style="font-size: 22px">Diagnostico</h1>
              </div>
              <!-- /.card-header -->
              <div class="card-body">
                <!-- <h:form role="form">  -->
                      <!-- text input -->
                  <div class="form-group">

          			<h:outputLabel>Ingresar Tipo de Diagnóstico</h:outputLabel>
              		<h:inputText value = "#{gestionConsultaBean.selectedConsulta.diagnostico.tipo}" class="form-control"
              		 a:placeholder="Ingrese el tipo de diagnostico" id="tipo"
							required="true" requiredMessage= "Error: Debe ingresar el tipo de diagnóstico"
            				style="#{ component.valid ? 'border-color:;' : 'border-color:#FF5D5D;background-color: #FF5D5D;color: white'}">
					</h:inputText>
					<h:message for="tipo" style="color:#E13D3D;font-weight: 400;boxshadow:#FF5D5D" />
					
					
       
                  </div>
                    <!-- textarea -->
                  <div class="form-group">
                    <h:outputLabel>Ingresar Descripcion</h:outputLabel>
                    <h:inputTextarea value = "#{gestionConsultaBean.selectedConsulta.diagnostico.detalle}" class="form-control"
                     a:placeholder="Ingrese una descripcion del diagnóstico" id="detalle"
					required="true" requiredMessage= "Error: Debe ingresar una descripcion del diagnóstico"
            		style="#{ component.valid ? 'border-color:;' : 'border-color:#FF5D5D;background-color: #FF5D5D;color: white'}">
					</h:inputTextarea>
					<h:message for="detalle" style="color:#E13D3D;font-weight: 400;boxshadow:#FF5D5D" />
                  </div>

                  <div class="row">
                    <div class="col-sm-6">
                      <!-- select -->
                      <div class="form-group">
                        <label>Receta:</label>
                      </div>
                    </div>
                  </div>

 
                  <!-- Select multiple-->
                  <div class="form-group">
                    <label>Medicamentos</label>
                                        
                    <h:dataTable value="#{gestionConsultaBean.selectedConsulta.diagnostico.receta.detalle}" var="detalle" id="resultado" class="table table-bordered">
                    
						<h:column>
							<f:facet name="header">Nombre</f:facet>
							<h:inputText value="#{detalle.medicamento.nombre}" class="form-control" id="nombre"
							a:placeholder="Ingrese el nombre del medicamento"
							required="true" requiredMessage= "Error: Debe ingresar el nombre del medicamento"
            				style="#{ component.valid ? 'border-color:;' : 'border-color:#FF5D5D;background-color: #FF5D5D;color: white'}">
						    </h:inputText>
						    <h:message for="nombre" style="color:#E13D3D;font-weight: 400;boxshadow:#FF5D5D" />
						    
							
						</h:column>
					
						<h:column>
							<f:facet name="header">Concentracion:</f:facet>
							<h:inputText value="#{detalle.medicamento.concentracion}" class="form-control"
							a:placeholder="Ingrese la concentracion del medicamento" id="concentracion"
							required="true" requiredMessage= "Error: Debe ingresar la concentracion"
            				style="#{ component.valid ? 'border-color:;' : 'border-color:#FF5D5D;background-color: #FF5D5D;color: white'}">
						    </h:inputText>
							 <h:message for="concentracion" style="color:#E13D3D;font-weight: 400;boxshadow:#FF5D5D" />
						</h:column>
					
						<h:column>
							<f:facet name="header">Dosis</f:facet>
							<h:inputText value="#{detalle.nombre}" class="form-control"
							a:placeholder="Ingrese la dosis del medicamento" id="dosis"
							required="true" requiredMessage= "Error: Debe ingresar la dosis del medicamento"
            				style="#{ component.valid ? 'border-color:;' : 'border-color:#FF5D5D;background-color: #FF5D5D;color: white'}">
						    </h:inputText>
						     <h:message for="dosis" style="color:#E13D3D;font-weight: 400;boxshadow:#FF5D5D" />
						</h:column>
                    
                    </h:dataTable>
                    
                    <h:commandButton action="#{gestionConsultaBean.addDetalle()}" value="+ Medicamento" class="btn btn-primary"/>
                    
                  </div>

              </div>
            </div>
       
					
				
	
	
	            <h:commandButton value="Actualizar Consulta" action="#{gestionConsultaBean.actualizarDiagnostico()}" type="submit" class="btn btn-primary">
				</h:commandButton>	
				
         	</div>
		
			
			
			
		</h:form>
	
	</ui:define>
	
</ui:composition>

